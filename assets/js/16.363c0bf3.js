(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{341:function(a,t,s){"use strict";s.r(t);var r=s(4),v=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"consul"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consul"}},[a._v("#")]),a._v(" consul")]),a._v(" "),t("h2",{attrs:{id:"基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[a._v("#")]),a._v(" 基本介绍")]),a._v(" "),t("ul",[t("li",[a._v("Consul是一种服务网关解决方案")]),a._v(" "),t("li",[a._v("提供具有服务发现，配置和分段功能的全功能控制平面")]),a._v(" "),t("li",[a._v("Consul附带一个简单的内置代理，可以开箱即用")])]),a._v(" "),t("h2",{attrs:{id:"关键功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关键功能"}},[a._v("#")]),a._v(" 关键功能")]),a._v(" "),t("ul",[t("li",[a._v("服务发现：客户端可以注册服务，程序可以轻松找到它们所依赖的服务")]),a._v(" "),t("li",[a._v("运行状况检查：客户端可以提供任意数量的运行状况检查")]),a._v(" "),t("li",[a._v("KV存储：应用程序可以将Consul的层级键/值存储用于任何目的，包括动态配置，功能标记，协调，领导者选举等")]),a._v(" "),t("li",[a._v("安全服务通信：Consul可以为服务生成和分发TLS证书，建立相互的TLS连接")]),a._v(" "),t("li",[a._v("多数据中心：Consul支持多个数据中心")])]),a._v(" "),t("h2",{attrs:{id:"集群架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群架构"}},[a._v("#")]),a._v(" 集群架构")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.statically.io/gh/famousmai/images/master/imgs/202301201711851.png",alt:"image-20230120171055690"}})]),a._v(" "),t("h2",{attrs:{id:"两个重要协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#两个重要协议"}},[a._v("#")]),a._v(" 两个重要协议")]),a._v(" "),t("h3",{attrs:{id:"gossip-protocol-八卦协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gossip-protocol-八卦协议"}},[a._v("#")]),a._v(" Gossip Protocol（八卦协议）")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("局域网池（LAN Pool）")]),a._v(" "),t("ul",[t("li",[a._v("让Client自动发现Sever节点，减少所需的配置量")]),a._v(" "),t("li",[a._v("分布式故障检查在某几个Server机上执行")]),a._v(" "),t("li",[a._v("能够用来快速的广播事件")])])]),a._v(" "),t("li",[t("strong",[a._v("广域网池（WAN Pool）")]),a._v(" "),t("ul",[t("li",[a._v("WAN Pool全局唯一的")]),a._v(" "),t("li",[a._v("不同数据中心的Server都会加如 WAN Pool")]),a._v(" "),t("li",[a._v("允许服务器执行跨数据中心请求")])])])]),a._v(" "),t("h3",{attrs:{id:"raft-protocol-选举协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raft-protocol-选举协议"}},[a._v("#")]),a._v(" Raft Protocol（选举协议）")]),a._v(" "),t("h2",{attrs:{id:"主要特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主要特性"}},[a._v("#")]),a._v(" 主要特性")]),a._v(" "),t("ul",[t("li",[a._v("服务发现")]),a._v(" "),t("li",[a._v("健康检查")]),a._v(" "),t("li",[a._v("键值对存储")])]),a._v(" "),t("h2",{attrs:{id:"访问过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问过程"}},[a._v("#")]),a._v(" 访问过程")]),a._v(" "),t("p",[a._v("![image-20230120171757878](/Users/mym/Library/Application Support/typora-user-images/image-20230120171757878.png)")]),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull consul\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8500")]),a._v(":8500 consul\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("web管理界面：http://127.0.0.1:8500")]),a._v(" "),t("h2",{attrs:{id:"文档地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文档地址"}},[a._v("#")]),a._v(" 文档地址")]),a._v(" "),t("p",[a._v("官网：https://www.consul.io/")]),a._v(" "),t("h2",{attrs:{id:"api接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api接口"}},[a._v("#")]),a._v(" Api接口")]),a._v(" "),t("h3",{attrs:{id:"添加服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加服务"}},[a._v("#")]),a._v(" 添加服务")]),a._v(" "),t("h3",{attrs:{id:"注销服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注销服务"}},[a._v("#")]),a._v(" 注销服务")]),a._v(" "),t("h3",{attrs:{id:"添加健康检查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加健康检查"}},[a._v("#")]),a._v(" 添加健康检查")])])}),[],!1,null,null,null);t.default=v.exports}}]);