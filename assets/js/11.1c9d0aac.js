(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{281:function(t,s,a){"use strict";a.r(s);var e=a(13),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"docker学习笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker学习笔记"}},[t._v("#")]),t._v(" Docker学习笔记")]),t._v(" "),s("blockquote",[s("p",[t._v("学前准备")])]),t._v(" "),s("ol",[s("li",[t._v("linux（必要）")]),t._v(" "),s("li")]),t._v(" "),s("h2",{attrs:{id:"docker概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker概述"}},[t._v("#")]),t._v(" Docker概述")]),t._v(" "),s("h3",{attrs:{id:"docker为什么出现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker为什么出现"}},[t._v("#")]),t._v(" Docker为什么出现")]),t._v(" "),s("p",[t._v("一款产品：开发 上线 两套环境 ！ 应用环境，应用配置")]),t._v(" "),s("p",[t._v("开发 --- 运维。问题：我在我的电脑上可以运行！版本更新，导致服务不可用！对于运维来说，考验就十分大")]),t._v(" "),s("p",[t._v("环境配置是十分麻烦的，每一个机器都要部署环境（集群Redis、ES、Hadoop...）! 费时费力。")]),t._v(" "),s("p",[t._v("发布一个项目（程序文件 + （Redis、MySql、ES、Hadoop）），项目能不能带上环境安装打包")]),t._v(" "),s("p",[t._v("之前在服务器配置一个应用的环境 Redis、Mysql、ES、Hadoop 配置超麻烦，不能够跨平台")]),t._v(" "),s("p",[t._v("Windows，最后发布到Linux！")]),t._v(" "),s("p",[t._v("传统：开发go程序，部署运维来做！")]),t._v(" "),s("p",[t._v("现在：开发打包部署上线，一套流程做完！")]),t._v(" "),s("p",[t._v("java --- apk -- 发布（应用商店） --- 张三使用apk ---- 安装即可用！")]),t._v(" "),s("p",[t._v("java --- jar（环境） --- 打包项目带上环境（镜像） ---- （Docker仓库：商店） ---- 下载我们发布的镜像 --- 直接运行即可！")]),t._v(" "),s("p",[t._v("docker给以上的问题，提出了解决方案！")]),t._v(" "),s("p",[t._v("Docker的思想就来自于集装箱！")]),t._v(" "),s("p",[t._v("JRE -- 多个应用（端口冲突） -- 原来都是交叉的")]),t._v(" "),s("p",[t._v("隔离：docker核心思想！打包装箱！每个箱子是互相隔离的")]),t._v(" "),s("p",[t._v("水果 生化武器")]),t._v(" "),s("p",[t._v("Docker 通过隔离机制，可以将服务器利用到极致！")]),t._v(" "),s("p",[t._v("本质：所有的技术都是因为出现了一些问题，我们需要去解决，才去学习！")]),t._v(" "),s("h3",{attrs:{id:"docker的历史"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的历史"}},[t._v("#")]),t._v(" Docker的历史")]),t._v(" "),s("p",[t._v("2010年，几个搞IT的年轻人，就在美国成立了一家公司"),s("code",[t._v("dotCloud")])]),t._v(" "),s("p",[t._v("做一些pass的云计算服务！LXC有关的容器技术！")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171827382.png",alt:"image-20230117182705585"}})]),t._v(" "),s("p",[t._v("他们将自己的技术 （容器化技术） 命名就是 Docker！")]),t._v(" "),s("p",[t._v("Docker刚刚诞生的时候，没有引起行业注意！dotCloud，就活不下去！")]),t._v(" "),s("p",[s("code",[t._v("开源")])]),t._v(" "),s("p",[t._v("开放源代码！")]),t._v(" "),s("p",[t._v("2013年，Docker开源！")]),t._v(" "),s("p",[t._v("Docker 越来越多的人发现了docker的优点！火了，Docker每个月都会更新一个版本！")]),t._v(" "),s("p",[t._v("2014年4月9日，Docker1.0发布")]),t._v(" "),s("p",[t._v("Docker为什么这么火？十分的轻巧！")]),t._v(" "),s("p",[t._v("在容器技术出来之前，我们都是使用虚拟机技术！")]),t._v(" "),s("p",[t._v("虚拟机：在window中装一个Vmware，通过这个软件我们可以虚拟出来一台或多台电脑！笨重！")]),t._v(" "),s("p",[t._v("虚拟机也是属于虚拟化技术，Docker 容器技术，也是一种 虚拟化技术！")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("vm: linux centos原生镜像（一个电脑！）隔离，需要开启多个虚拟机！几个G 几分钟\ndocker：隔离，镜像（最核心的环境 4m + jdk + mysql） 十分的小巧，运行镜像就可以了！小巧！几个M  KB 秒级启动！\n")])])]),s("p",[t._v("到现在，所有开发人员都必须要会Docker！")]),t._v(" "),s("h3",{attrs:{id:"聊聊docker-网址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#聊聊docker-网址"}},[t._v("#")]),t._v(" 聊聊docker（网址）")]),t._v(" "),s("p",[t._v("Docker 是基于Go语言开发的！开源项目！")]),t._v(" "),s("p",[t._v("官网：https://www.docker.com")]),t._v(" "),s("p",[t._v("文档地址：https://docs.docker.com")]),t._v(" "),s("p",[t._v("仓库地址：https://hub.docker.com")]),t._v(" "),s("h3",{attrs:{id:"docker能干嘛"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker能干嘛"}},[t._v("#")]),t._v(" Docker能干嘛")]),t._v(" "),s("h4",{attrs:{id:"之前的虚拟机技术"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#之前的虚拟机技术"}},[t._v("#")]),t._v(" 之前的虚拟机技术")]),t._v(" "),s("p",[t._v("![image-20230117123541741](/Users/mym/Library/Application Support/typora-user-images/image-20230117123541741.png)")]),t._v(" "),s("p",[t._v("虚拟机技术缺点：")]),t._v(" "),s("ol",[s("li",[t._v("资源占用十分多")]),t._v(" "),s("li",[t._v("冗余步骤多")]),t._v(" "),s("li",[t._v("启动很慢！")])]),t._v(" "),s("h4",{attrs:{id:"容器化技术"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器化技术"}},[t._v("#")]),t._v(" 容器化技术")]),t._v(" "),s("p",[t._v("==容器化技术不是模拟的一个完整的操作系统=="),s("img",{attrs:{src:"https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171828671.png",alt:"image-20230117124052734"}})]),t._v(" "),s("p",[t._v("比较Docker 和 虚拟机技术的不同")]),t._v(" "),s("ul",[s("li",[t._v("传统虚拟机，虚拟出一条硬件，运行一个完整的操作系统，然后在这个系统上安装和运行软件")]),t._v(" "),s("li",[t._v("容器内的应用直接运行在 宿主机的内容，容器是没有自己的内核的，也没有虚拟我们的意见，所以就轻便了")]),t._v(" "),s("li",[t._v("每个容器间是互相隔离，每个容器内都有一个属于自己的文件系统，互不影响")])]),t._v(" "),s("h4",{attrs:{id:"devops-开发、运维"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#devops-开发、运维"}},[t._v("#")]),t._v(" DevOps（开发、运维）")]),t._v(" "),s("p",[s("strong",[t._v("应用更快速的交付和部署")])]),t._v(" "),s("p",[t._v("传统：一堆帮助文档，安装程序")]),t._v(" "),s("p",[t._v("Dokcer：打包镜像发布测试，一键运行")]),t._v(" "),s("p",[s("strong",[t._v("更便捷的升级和阔所容")])]),t._v(" "),s("p",[t._v("使用了Docker之后，我们部署应用就和搭积木一样！")]),t._v(" "),s("p",[t._v("项目打包为一个镜像，扩展 服务器A！服务器B")]),t._v(" "),s("p",[s("strong",[t._v("更简单的系统运维")])]),t._v(" "),s("p",[t._v("在容器化之后，我们的开发，测试环境都是高度一致的")]),t._v(" "),s("p",[s("strong",[t._v("更高效的计算资源利用")])]),t._v(" "),s("p",[t._v("Docker是 内核级别的虚拟话，可以在一个物理机上可以运行很多的容器实例！服务器的性能可以被压榨到极致")]),t._v(" "),s("h2",{attrs:{id:"docker安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装"}},[t._v("#")]),t._v(" Docker安装")]),t._v(" "),s("h3",{attrs:{id:"docker-的基本组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-的基本组成"}},[t._v("#")]),t._v(" docker 的基本组成")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2020/12/15/V4S3yiDK6PCGtbd.png",alt:"img"}})]),t._v(" "),s("p",[s("strong",[t._v("镜像（image）")])]),t._v(" "),s("p",[t._v("就好比是一个模版，可以通过这么模板来创建容器服务，tomcat镜像 ===> run ==> tomcat01容器（提供服务器）")]),t._v(" "),s("p",[t._v("通过这个镜像可以创建多个容器（最终服务运行或者项目运行就是在容器中的）。")]),t._v(" "),s("p",[s("strong",[t._v("容器（container）")])]),t._v(" "),s("p",[t._v("Docker利用容器技术，独立运行一个或者一个组应用，通过镜像来创建的。")]),t._v(" "),s("p",[t._v("启动，停止，删除，基本命令！")]),t._v(" "),s("p",[t._v("目前就可以把这个容器理解为一个简易的linux系统")]),t._v(" "),s("p",[s("strong",[t._v("仓库（repository）")])]),t._v(" "),s("p",[t._v("仓库就是存放镜像的地方！")]),t._v(" "),s("p",[t._v("仓库分为公有仓库和私有仓库！")]),t._v(" "),s("p",[t._v("Docker Hub（默认是国外的）")]),t._v(" "),s("p",[t._v("阿里云... 都有容器服务（配置镜像加速！）")]),t._v(" "),s("h3",{attrs:{id:"安装docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[t._v("#")]),t._v(" 安装Docker")]),t._v(" "),s("h4",{attrs:{id:"环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[t._v("#")]),t._v(" 环境准备")]),t._v(" "),s("ol",[s("li",[t._v("需要会一点点的linux基础")]),t._v(" "),s("li",[t._v("Centos 7")]),t._v(" "),s("li",[t._v("我们使用xshell连接远程服务器进行操作！")])]),t._v(" "),s("h4",{attrs:{id:"环境查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境查看"}},[t._v("#")]),t._v(" 环境查看")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 系统内核是3.10以上的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uname -r")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.10")]),t._v(".0-1127.19.1.el7.x86_64\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 系统版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /etc/os-release ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS Linux"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7 (Core)"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centos"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ID_LIKE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rhel fedora"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("VERSION_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PRETTY_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS Linux 7 (Core)"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ANSI_COLOR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0;31"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CPE_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cpe:/o:centos:centos:7"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("HOME_URL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.centos.org/"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BUG_REPORT_URL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://bugs.centos.org/"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CENTOS_MANTISBT_PROJECT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS-7"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CENTOS_MANTISBT_PROJECT_VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("REDHAT_SUPPORT_PRODUCT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centos"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("REDHAT_SUPPORT_PRODUCT_VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7"')]),t._v("\n")])])]),s("h4",{attrs:{id:"安装-centos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-centos"}},[t._v("#")]),t._v(" 安装（centos）")]),t._v(" "),s("p",[s("strong",[t._v("参考链接")])]),t._v(" "),s("p",[t._v("https://developer.aliyun.com/mirror/docker-ce?spm=a2c6h.13651102.0.0.55e01b110vCziG")]),t._v(" "),s("p",[t._v("https://juejin.cn/post/7189159542918217789")]),t._v(" "),s("p",[s("strong",[t._v("帮助文档")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. 卸载旧版本")]),t._v("\nyum remove "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine\n已加载插件：fastestmirror\n参数 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" 没有匹配\n参数 docker-client 没有匹配\n参数 docker-client-latest 没有匹配\n参数 docker-common 没有匹配\n参数 docker-latest 没有匹配\n参数 docker-latest-logrotate 没有匹配\n参数 docker-logrotate 没有匹配\n参数 docker-engine 没有匹配\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. 需要的安装包")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" yum-utils\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3. 设置镜像的仓库")]),t._v("\nyum-config-manager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n\t--add-repo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n\thttps://download.docker.com/linux/centos/docker-ce.repo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 默认是国外的")]),t._v("\n\t\nyum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 阿里云加速，十分地快")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新yum软件包索引")]),t._v("\nyum makecache fast\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 4. 安装docker docker-ce社区版 ee是企业版")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce docker-ce-cli containerd.io\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 5. 启动docker")]),t._v("\nsystemctl start "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" start\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 6. docker version 检查是否成功")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker version")]),t._v("\nClient: Docker Engine - Community\n Version:           "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.10")]),t._v(".22\n API version:       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.41")]),t._v("\n Go version:        go1.18.9\n Git commit:        3a2c30b\n Built:             Thu Dec "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":30:24 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n OS/Arch:           linux/amd64\n Context:           default\n Experimental:      "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\nServer: Docker Engine - Community\n Engine:\n  Version:          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.10")]),t._v(".22\n  API version:      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.41")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Go version:       go1.18.9\n  Git commit:       42c8b31\n  Built:            Thu Dec "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":28:33 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n  OS/Arch:          linux/amd64\n  Experimental:     "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n containerd:\n  Version:          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v(".15\n  GitCommit:        5b842e528e99d4d4c1686467debf2bd4b88ecd86\n runc:\n  Version:          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(".4\n  GitCommit:        v1.1.4-0-g5fd4c4d\n docker-init:\n  Version:          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.19")]),t._v(".0\n  GitCommit:        de40ad0\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 7. hello world")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run hello-world")]),t._v("\nUnable to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally\nlatest: Pulling from library/hello-world\n2db29710123e: Pull complete \nDigest: sha256:aa0cc8055b82dc2509bed2e19b275c8f463506616377219d9642221ab53cf9fe\nStatus: Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest\n\nHello from Docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". The Docker client contacted the Docker daemon.\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". The Docker daemon pulled the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". The Docker daemon created a new container from that image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(". The Docker daemon streamed that output to the Docker client, "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n $ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" ubuntu "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 8. 查看一下下载的这个 hello-world镜像")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images")]),t._v("\nREPOSITORY    TAG       IMAGE ID       CREATED         SIZE\nhello-world   latest    feb5d9fea6a5   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" months ago   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(".3kB\n \n")])])]),s("p",[s("strong",[t._v("了解：卸载docker")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. 卸载依赖")]),t._v("\nyum remove docker-ce docker-ce-cli containerd.io\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. 删除资源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rf")]),t._v(" /var/lib/docker\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /var/lib/docker docker的默认工作路径！")]),t._v("\n")])])]),s("h3",{attrs:{id:"阿里云镜像加速"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阿里云镜像加速"}},[t._v("#")]),t._v(" 阿里云镜像加速")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("登录阿里云")])]),t._v(" "),s("li",[s("p",[t._v("找到镜像加速地址")]),t._v(" "),s("p",[t._v("![image-20230117150149564](/Users/mym/Library/Application Support/typora-user-images/image-20230117150149564.png)")])]),t._v(" "),s("li",[s("p",[t._v("配置使用")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /etc/docker\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/docker/daemon.json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'EOF\'\n{\n  "registry-mirrors": ["https://9lxn3itv.mirror.aliyuncs.com"]\n}\nEOF')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"回顾helloworld过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回顾helloworld过程"}},[t._v("#")]),t._v(" 回顾helloworld过程")]),t._v(" "),s("p",[t._v("![image-20230117150603100](/Users/mym/Library/Application Support/typora-user-images/image-20230117150603100.png)")]),t._v(" "),s("p",[t._v("![image-20230117150758667](/Users/mym/Library/Application Support/typora-user-images/image-20230117150758667.png)")]),t._v(" "),s("h3",{attrs:{id:"底层原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#底层原理"}},[t._v("#")]),t._v(" 底层原理")]),t._v(" "),s("p",[s("strong",[t._v("Docker是怎么工作的？")])]),t._v(" "),s("p",[t._v("Docker是一个  Client - Server 结构的系统，Docker的守护进程运行在主机上。通过Socket从客户端访问！")]),t._v(" "),s("p",[t._v("DockerServer接收到 Docker-Client的指令，就会执行这个命令。")]),t._v(" "),s("p",[t._v("![image-20230117151816826](/Users/mym/Library/Application Support/typora-user-images/image-20230117151816826.png)")]),t._v(" "),s("p",[s("strong",[t._v("Docker为什么比VM快？")])]),t._v(" "),s("ol",[s("li",[t._v("Docker有着比虚拟机更少的抽象层")]),t._v(" "),s("li",[t._v("Docker利用的宿主机的内核，VM需要是 Guest OS")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210202112125801.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phdGVq,size_16,color_FFFFFF,t_70",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/91868a37481f41dbc2b53a2303ce8fff.png",alt:"img"}})]),t._v(" "),s("p",[t._v("所以说，新建一个容器的时候，docker不需要像虚拟机一样重新加载一个操作系统内核，避免引导性操作，虚拟机是加载Guest OS，分钟级别的，而docker是利用宿主机的操作系统，省略了这个复杂的过程，秒级")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.jb51.cc/res/2021/06-16/14/86eea9fd88f9b85220340f56cabcf6ac.png",alt:"img"}})]),t._v(" "),s("p",[t._v("之后学习完毕所有的命令， 再回头来看这段理论，就会很清晰！")]),t._v(" "),s("h2",{attrs:{id:"docker的常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的常用命令"}},[t._v("#")]),t._v(" Docker的常用命令")]),t._v(" "),s("h3",{attrs:{id:"帮助命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#帮助命令"}},[t._v("#")]),t._v(" 帮助命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" version \t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示docker的版本信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" info    \t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示更详细信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" 命令 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 万能命令")]),t._v("\n")])])]),s("p",[t._v("帮助文档的地址：https://docs.docker.com/engine/reference/commandline/docker/")]),t._v(" "),s("h3",{attrs:{id:"镜像命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[t._v("#")]),t._v(" 镜像命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iZwz954642t91dbe6lc2l1Z ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images")]),t._v("\nREPOSITORY    TAG       IMAGE ID       CREATED         SIZE\nhello-world   latest    feb5d9fea6a5   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" months ago   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(".3kB\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解释")]),t._v("\nREPOSITORY 镜像的仓库源\nTAG        镜像的标签\nIMAGE ID   镜像的ID\nCREATED    镜像的创建时间\nSIZE       镜像的大小\n\n\n")])])]),s("h3",{attrs:{id:"容器命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[t._v("#")]),t._v(" 容器命令")]),t._v(" "),s("h3",{attrs:{id:"操作命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作命令"}},[t._v("#")]),t._v(" 操作命令")]),t._v(" "),s("h2",{attrs:{id:"docker镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像"}},[t._v("#")]),t._v(" Docker镜像")]),t._v(" "),s("h2",{attrs:{id:"容器数据卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器数据卷"}},[t._v("#")]),t._v(" 容器数据卷")]),t._v(" "),s("h2",{attrs:{id:"dockerfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[t._v("#")]),t._v(" Dockerfile")]),t._v(" "),s("h2",{attrs:{id:"docker网络原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker网络原理"}},[t._v("#")]),t._v(" Docker网络原理")]),t._v(" "),s("h2",{attrs:{id:"idea整合docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idea整合docker"}},[t._v("#")]),t._v(" IDEA整合Docker")]),t._v(" "),s("h2",{attrs:{id:"docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[t._v("#")]),t._v(" Docker Compose")]),t._v(" "),s("h2",{attrs:{id:"docker-swarm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm"}},[t._v("#")]),t._v(" Docker Swarm")]),t._v(" "),s("h2",{attrs:{id:"ci-cd-jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ci-cd-jenkins"}},[t._v("#")]),t._v(" CI\\CD Jenkins")])])}),[],!1,null,null,null);s.default=r.exports}}]);