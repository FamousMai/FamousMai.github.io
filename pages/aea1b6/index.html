<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker学习笔记 | Famousmai&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="业务后端技术博客,专注业务后端学习与总结。Golang,PHP,Mysql,Redis,Docker,K8s,Kafka,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.d9c8cf8c.css" as="style"><link rel="preload" href="/assets/js/app.45fc016d.js" as="script"><link rel="preload" href="/assets/js/2.1566420c.js" as="script"><link rel="preload" href="/assets/js/15.5197d951.js" as="script"><link rel="prefetch" href="/assets/js/10.a148929c.js"><link rel="prefetch" href="/assets/js/11.a071a1ef.js"><link rel="prefetch" href="/assets/js/12.843ca346.js"><link rel="prefetch" href="/assets/js/13.2c169178.js"><link rel="prefetch" href="/assets/js/14.7a90ce86.js"><link rel="prefetch" href="/assets/js/16.363c0bf3.js"><link rel="prefetch" href="/assets/js/17.2ad70a11.js"><link rel="prefetch" href="/assets/js/18.b92d6592.js"><link rel="prefetch" href="/assets/js/19.63d11be7.js"><link rel="prefetch" href="/assets/js/20.1ccb10d7.js"><link rel="prefetch" href="/assets/js/21.338a9b81.js"><link rel="prefetch" href="/assets/js/22.73c1a0a8.js"><link rel="prefetch" href="/assets/js/23.641d234e.js"><link rel="prefetch" href="/assets/js/24.30edc793.js"><link rel="prefetch" href="/assets/js/25.2807c308.js"><link rel="prefetch" href="/assets/js/26.b190a4d4.js"><link rel="prefetch" href="/assets/js/27.ddddc565.js"><link rel="prefetch" href="/assets/js/28.e54feb5b.js"><link rel="prefetch" href="/assets/js/29.733e9e55.js"><link rel="prefetch" href="/assets/js/3.f11d74fe.js"><link rel="prefetch" href="/assets/js/30.5a732471.js"><link rel="prefetch" href="/assets/js/31.df1125c4.js"><link rel="prefetch" href="/assets/js/32.c6f0fa2d.js"><link rel="prefetch" href="/assets/js/33.259f52a8.js"><link rel="prefetch" href="/assets/js/34.c35736bd.js"><link rel="prefetch" href="/assets/js/35.49cce032.js"><link rel="prefetch" href="/assets/js/36.0075365f.js"><link rel="prefetch" href="/assets/js/37.7389c926.js"><link rel="prefetch" href="/assets/js/38.793e1ae9.js"><link rel="prefetch" href="/assets/js/39.b4a0199f.js"><link rel="prefetch" href="/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/assets/js/40.25334e93.js"><link rel="prefetch" href="/assets/js/41.a6c7402b.js"><link rel="prefetch" href="/assets/js/5.483deb8b.js"><link rel="prefetch" href="/assets/js/6.e419e813.js"><link rel="prefetch" href="/assets/js/7.a98c1a28.js"><link rel="prefetch" href="/assets/js/8.bbb15a0b.js"><link rel="prefetch" href="/assets/js/9.9be18fa0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9c8cf8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Famousmai's blog" class="logo"> <span class="site-name can-hide">Famousmai's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/guide/" class="nav-link">👍 网站介绍</a></div><div class="nav-item"><a href="/code/" class="nav-link">💯 编程分享</a></div><div class="nav-item"><a href="/life/" class="nav-link">✍️ 生活感悟</a></div><div class="nav-item"><a href="/game/" class="nav-link">🎮 游戏人生</a></div><div class="nav-item"><a href="/website/" class="nav-link">📈 网站动态</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">💌 收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🗂️ 索引" class="dropdown-title"><a href="/archives/" class="link-title">🗂️ 索引</a> <span class="title" style="display:none;">🗂️ 索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/17564206?v=4"> <div class="blogger-info"><h3>Famous Mai</h3> <span>爱玩辅助的后端小哥</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/guide/" class="nav-link">👍 网站介绍</a></div><div class="nav-item"><a href="/code/" class="nav-link">💯 编程分享</a></div><div class="nav-item"><a href="/life/" class="nav-link">✍️ 生活感悟</a></div><div class="nav-item"><a href="/game/" class="nav-link">🎮 游戏人生</a></div><div class="nav-item"><a href="/website/" class="nav-link">📈 网站动态</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">💌 收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🗂️ 索引" class="dropdown-title"><a href="/archives/" class="link-title">🗂️ 索引</a> <span class="title" style="display:none;">🗂️ 索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>学习笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/f032ce/" class="sidebar-link">Golang学习笔记</a></li><li><a href="/pages/aea1b6/" aria-current="page" class="active sidebar-link">Docker学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker概述" class="sidebar-link">Docker概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#docker为什么出现" class="sidebar-link">Docker为什么出现</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#docker的历史" class="sidebar-link">Docker的历史</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#聊聊docker-网址" class="sidebar-link">聊聊docker（网址）</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#docker能干嘛" class="sidebar-link">Docker能干嘛</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#之前的虚拟机技术" class="sidebar-link">之前的虚拟机技术</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#容器化技术" class="sidebar-link">容器化技术</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#devops-开发、运维" class="sidebar-link">DevOps（开发、运维）</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker安装" class="sidebar-link">Docker安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#docker-的基本组成" class="sidebar-link">docker 的基本组成</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#安装docker" class="sidebar-link">安装Docker</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#环境准备" class="sidebar-link">环境准备</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#环境查看" class="sidebar-link">环境查看</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#安装-centos" class="sidebar-link">安装（centos）</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#阿里云镜像加速" class="sidebar-link">阿里云镜像加速</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#回顾helloworld过程" class="sidebar-link">回顾helloworld过程</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#底层原理" class="sidebar-link">底层原理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker的常用命令" class="sidebar-link">Docker的常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#帮助命令" class="sidebar-link">帮助命令</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#镜像命令" class="sidebar-link">镜像命令</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-images-查看镜像" class="sidebar-link">docker images 查看镜像</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-search-搜索镜像" class="sidebar-link">docker search 搜索镜像</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-pull-下载镜像" class="sidebar-link">docker pull 下载镜像</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-rmi-删除镜像" class="sidebar-link">docker rmi 删除镜像</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#容器命令" class="sidebar-link">容器命令</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-run-新建容器并启动" class="sidebar-link">docker run 新建容器并启动</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-ps-列出运行容器" class="sidebar-link">docker ps 列出运行容器</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#退出容器" class="sidebar-link">退出容器</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#docker-rm-删除容器" class="sidebar-link">docker rm 删除容器</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#启动和停止容器的操作" class="sidebar-link">启动和停止容器的操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#常用其他命令" class="sidebar-link">常用其他命令</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#后台启动容器" class="sidebar-link">后台启动容器</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#查看日志" class="sidebar-link">查看日志</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#查看容器中进程信息" class="sidebar-link">查看容器中进程信息</a></li><li class="sidebar-sub-header level4"><a href="/pages/aea1b6/#进入当前的" class="sidebar-link">进入当前的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aea1b6/#操作命令" class="sidebar-link">操作命令</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker镜像" class="sidebar-link">Docker镜像</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#容器数据卷" class="sidebar-link">容器数据卷</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#dockerfile" class="sidebar-link">Dockerfile</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker网络原理" class="sidebar-link">Docker网络原理</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#idea整合docker" class="sidebar-link">IDEA整合Docker</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker-compose" class="sidebar-link">Docker Compose</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#docker-swarm" class="sidebar-link">Docker Swarm</a></li><li class="sidebar-sub-header level2"><a href="/pages/aea1b6/#ci-cd-jenkins" class="sidebar-link">CI\CD Jenkins</a></li></ul></li><li><a href="/pages/c056a3/" class="sidebar-link">Consul学习笔记</a></li><li><a href="/pages/97a1d4/" class="sidebar-link">Elk学习笔记</a></li><li><a href="/pages/9b39a6/" class="sidebar-link">数据结构与算法之美</a></li><li><a href="/pages/95499f/" class="sidebar-link">Go实操项目学习笔记</a></li><li><a href="/pages/f1d7cd/" class="sidebar-link">Paypal对接学习笔记</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>踩坑记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试分享</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术方案文章梳理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/code/#编程分享" data-v-06225672>编程分享</a></li><li data-v-06225672><a href="/code/#学习笔记" data-v-06225672>学习笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/famousmai" target="_blank" title="作者" class="beLink" data-v-06225672>famousmai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-02-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Docker学习笔记<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="学习笔记"><a href="#学习笔记" class="header-anchor">#</a> 学习笔记</h1> <div class="custom-block warning"><p class="custom-block-title">说在前面</p> <ul><li>以下笔记是跟着狂神自己手敲的，并非原创
<ul><li><a href="https://www.bilibili.com/video/BV1og4y1q7M4/?p=1" target="_blank" rel="noopener noreferrer">【狂神说Java】Docker最新超详细版教程通俗易懂<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.bilibili.com/video/BV1kv411q7Qc/?spm_id_from=333.999.0.0&amp;vd_source=2cba952975a3bd123825cc97d35e386c" target="_blank" rel="noopener noreferrer">【狂神说Java】Docker进阶篇超详细版教程通俗易懂<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div> <h2 id="docker概述"><a href="#docker概述" class="header-anchor">#</a> Docker概述</h2> <h3 id="docker为什么出现"><a href="#docker为什么出现" class="header-anchor">#</a> Docker为什么出现</h3> <p>一款产品：开发 上线 两套环境 ！ 应用环境，应用配置</p> <p>开发 --- 运维。问题：我在我的电脑上可以运行！版本更新，导致服务不可用！对于运维来说，考验就十分大</p> <p>环境配置是十分麻烦的，每一个机器都要部署环境（集群Redis、ES、Hadoop...）! 费时费力。</p> <p>发布一个项目（程序文件 + （Redis、MySql、ES、Hadoop）），项目能不能带上环境安装打包</p> <p>之前在服务器配置一个应用的环境 Redis、Mysql、ES、Hadoop 配置超麻烦，不能够跨平台</p> <p>Windows，最后发布到Linux！</p> <p>传统：开发go程序，部署运维来做！</p> <p>现在：开发打包部署上线，一套流程做完！</p> <p>java --- apk -- 发布（应用商店） --- 张三使用apk ---- 安装即可用！</p> <p>java --- jar（环境） --- 打包项目带上环境（镜像） ---- （Docker仓库：商店） ---- 下载我们发布的镜像 --- 直接运行即可！</p> <p>docker给以上的问题，提出了解决方案！</p> <p>Docker的思想就来自于集装箱！</p> <p>JRE -- 多个应用（端口冲突） -- 原来都是交叉的</p> <p>隔离：docker核心思想！打包装箱！每个箱子是互相隔离的</p> <p>水果 生化武器</p> <p>Docker 通过隔离机制，可以将服务器利用到极致！</p> <p>本质：所有的技术都是因为出现了一些问题，我们需要去解决，才去学习！</p> <h3 id="docker的历史"><a href="#docker的历史" class="header-anchor">#</a> Docker的历史</h3> <p>2010年，几个搞IT的年轻人，就在美国成立了一家公司<code>dotCloud</code></p> <p>做一些pass的云计算服务！LXC有关的容器技术！</p> <p><img src="https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171827382.png" alt="image-20230117182705585"></p> <p>他们将自己的技术 （容器化技术） 命名就是 Docker！</p> <p>Docker刚刚诞生的时候，没有引起行业注意！dotCloud，就活不下去！</p> <p><code>开源</code></p> <p>开放源代码！</p> <p>2013年，Docker开源！</p> <p>Docker 越来越多的人发现了docker的优点！火了，Docker每个月都会更新一个版本！</p> <p>2014年4月9日，Docker1.0发布</p> <p>Docker为什么这么火？十分的轻巧！</p> <p>在容器技术出来之前，我们都是使用虚拟机技术！</p> <p>虚拟机：在window中装一个Vmware，通过这个软件我们可以虚拟出来一台或多台电脑！笨重！</p> <p>虚拟机也是属于虚拟化技术，Docker 容器技术，也是一种 虚拟化技术！</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>vm: linux centos原生镜像（一个电脑！）隔离，需要开启多个虚拟机！几个G 几分钟
docker：隔离，镜像（最核心的环境 4m + jdk + mysql） 十分的小巧，运行镜像就可以了！小巧！几个M  KB 秒级启动！
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>到现在，所有开发人员都必须要会Docker！</p> <h3 id="聊聊docker-网址"><a href="#聊聊docker-网址" class="header-anchor">#</a> 聊聊docker（网址）</h3> <p>Docker 是基于Go语言开发的！开源项目！</p> <p>官网：https://www.docker.com</p> <p>文档地址：https://docs.docker.com</p> <p>仓库地址：https://hub.docker.com</p> <h3 id="docker能干嘛"><a href="#docker能干嘛" class="header-anchor">#</a> Docker能干嘛</h3> <h4 id="之前的虚拟机技术"><a href="#之前的虚拟机技术" class="header-anchor">#</a> 之前的虚拟机技术</h4> <p>![image-20230117123541741](/Users/mym/Library/Application Support/typora-user-images/image-20230117123541741.png)</p> <p>虚拟机技术缺点：</p> <ol><li>资源占用十分多</li> <li>冗余步骤多</li> <li>启动很慢！</li></ol> <h4 id="容器化技术"><a href="#容器化技术" class="header-anchor">#</a> 容器化技术</h4> <p>==容器化技术不是模拟的一个完整的操作系统==<img src="https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171828671.png" alt="image-20230117124052734"></p> <p>比较Docker 和 虚拟机技术的不同</p> <ul><li>传统虚拟机，虚拟出一条硬件，运行一个完整的操作系统，然后在这个系统上安装和运行软件</li> <li>容器内的应用直接运行在 宿主机的内容，容器是没有自己的内核的，也没有虚拟我们的意见，所以就轻便了</li> <li>每个容器间是互相隔离，每个容器内都有一个属于自己的文件系统，互不影响</li></ul> <h4 id="devops-开发、运维"><a href="#devops-开发、运维" class="header-anchor">#</a> DevOps（开发、运维）</h4> <p><strong>应用更快速的交付和部署</strong></p> <p>传统：一堆帮助文档，安装程序</p> <p>Dokcer：打包镜像发布测试，一键运行</p> <p><strong>更便捷的升级和阔所容</strong></p> <p>使用了Docker之后，我们部署应用就和搭积木一样！</p> <p>项目打包为一个镜像，扩展 服务器A！服务器B</p> <p><strong>更简单的系统运维</strong></p> <p>在容器化之后，我们的开发，测试环境都是高度一致的</p> <p><strong>更高效的计算资源利用</strong></p> <p>Docker是 内核级别的虚拟话，可以在一个物理机上可以运行很多的容器实例！服务器的性能可以被压榨到极致</p> <h2 id="docker安装"><a href="#docker安装" class="header-anchor">#</a> Docker安装</h2> <h3 id="docker-的基本组成"><a href="#docker-的基本组成" class="header-anchor">#</a> docker 的基本组成</h3> <p><img src="https://i.loli.net/2020/12/15/V4S3yiDK6PCGtbd.png" alt="img"></p> <p><strong>镜像（image）</strong></p> <p>就好比是一个模版，可以通过这么模板来创建容器服务，tomcat镜像 ===&gt; run ==&gt; tomcat01容器（提供服务器）</p> <p>通过这个镜像可以创建多个容器（最终服务运行或者项目运行就是在容器中的）。</p> <p><strong>容器（container）</strong></p> <p>Docker利用容器技术，独立运行一个或者一个组应用，通过镜像来创建的。</p> <p>启动，停止，删除，基本命令！</p> <p>目前就可以把这个容器理解为一个简易的linux系统</p> <p><strong>仓库（repository）</strong></p> <p>仓库就是存放镜像的地方！</p> <p>仓库分为公有仓库和私有仓库！</p> <p>Docker Hub（默认是国外的）</p> <p>阿里云... 都有容器服务（配置镜像加速！）</p> <h3 id="安装docker"><a href="#安装docker" class="header-anchor">#</a> 安装Docker</h3> <h4 id="环境准备"><a href="#环境准备" class="header-anchor">#</a> 环境准备</h4> <ol><li>需要会一点点的linux基础</li> <li>Centos 7</li> <li>我们使用xshell连接远程服务器进行操作！</li></ol> <h4 id="环境查看"><a href="#环境查看" class="header-anchor">#</a> 环境查看</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 系统内核是3.10以上的</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># uname -r</span>
<span class="token number">3.10</span>.0-1127.19.1.el7.x86_64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 系统版本</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/os-release </span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux&quot;</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">&quot;7 (Core)&quot;</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">&quot;rhel fedora&quot;</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux 7 (Core)&quot;</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">&quot;0;31&quot;</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">&quot;cpe:/o:centos:centos:7&quot;</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">&quot;https://www.centos.org/&quot;</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">&quot;https://bugs.centos.org/&quot;</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">&quot;CentOS-7&quot;</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="安装-centos"><a href="#安装-centos" class="header-anchor">#</a> 安装（centos）</h4> <p><strong>参考链接</strong></p> <p>https://developer.aliyun.com/mirror/docker-ce?spm=a2c6h.13651102.0.0.55e01b110vCziG</p> <p>https://juejin.cn/post/7189159542918217789</p> <p><strong>帮助文档</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 1. 卸载旧版本</span>
yum remove <span class="token function">docker</span> docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine
已加载插件：fastestmirror
参数 <span class="token function">docker</span> 没有匹配
参数 docker-client 没有匹配
参数 docker-client-latest 没有匹配
参数 docker-common 没有匹配
参数 docker-latest 没有匹配
参数 docker-latest-logrotate 没有匹配
参数 docker-logrotate 没有匹配
参数 docker-engine 没有匹配

<span class="token comment"># 2. 需要的安装包</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils

<span class="token comment"># 3. 设置镜像的仓库</span>
yum-config-manager <span class="token punctuation">\</span>
	--add-repo <span class="token punctuation">\</span>
	https://download.docker.com/linux/centos/docker-ce.repo <span class="token comment"># 默认是国外的</span>
	
yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo <span class="token comment"># 阿里云加速，十分地快</span>

<span class="token comment"># 更新yum软件包索引</span>
yum makecache fast

<span class="token comment"># 4. 安装docker docker-ce社区版 ee是企业版</span>
yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io

<span class="token comment"># 5. 启动docker</span>
systemctl start <span class="token function">docker</span>
<span class="token function">service</span> <span class="token function">docker</span> start

<span class="token comment"># 6. docker version 检查是否成功</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker version</span>
Client: Docker Engine - Community
 Version:           <span class="token number">20.10</span>.22
 API version:       <span class="token number">1.41</span>
 Go version:        go1.18.9
 Git commit:        3a2c30b
 Built:             Thu Dec <span class="token number">15</span> <span class="token number">22</span>:30:24 <span class="token number">2022</span>
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      <span class="token boolean">true</span>

Server: Docker Engine - Community
 Engine:
  Version:          <span class="token number">20.10</span>.22
  API version:      <span class="token number">1.41</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>
  Go version:       go1.18.9
  Git commit:       42c8b31
  Built:            Thu Dec <span class="token number">15</span> <span class="token number">22</span>:28:33 <span class="token number">2022</span>
  OS/Arch:          linux/amd64
  Experimental:     <span class="token boolean">false</span>
 containerd:
  Version:          <span class="token number">1.6</span>.15
  GitCommit:        5b842e528e99d4d4c1686467debf2bd4b88ecd86
 runc:
  Version:          <span class="token number">1.1</span>.4
  GitCommit:        v1.1.4-0-g5fd4c4d
 docker-init:
  Version:          <span class="token number">0.19</span>.0
  GitCommit:        de40ad0

<span class="token comment"># 7. hello world</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker run hello-world</span>
Unable to <span class="token function">find</span> image <span class="token string">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete 
Digest: sha256:aa0cc8055b82dc2509bed2e19b275c8f463506616377219d9642221ab53cf9fe
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run <span class="token parameter variable">-it</span> ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
 
 <span class="token comment"># 8. 查看一下下载的这个 hello-world镜像</span>
 <span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">16</span> months ago   <span class="token number">13</span>.3kB
 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div></div><p><strong>了解：卸载docker</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 1. 卸载依赖</span>
yum remove docker-ce docker-ce-cli containerd.io

<span class="token comment"># 2. 删除资源</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker

<span class="token comment"># /var/lib/docker docker的默认工作路径！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="阿里云镜像加速"><a href="#阿里云镜像加速" class="header-anchor">#</a> 阿里云镜像加速</h3> <ol><li><p>登录阿里云</p></li> <li><p>找到镜像加速地址</p> <p>![image-20230117150149564](/Users/mym/Library/Application Support/typora-user-images/image-20230117150149564.png)</p></li> <li><p>配置使用</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://9lxn3itv.mirror.aliyuncs.com&quot;]
}
EOF</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <h3 id="回顾helloworld过程"><a href="#回顾helloworld过程" class="header-anchor">#</a> 回顾helloworld过程</h3> <p>![image-20230117150603100](/Users/mym/Library/Application Support/typora-user-images/image-20230117150603100.png)</p> <p>![image-20230117150758667](/Users/mym/Library/Application Support/typora-user-images/image-20230117150758667.png)</p> <h3 id="底层原理"><a href="#底层原理" class="header-anchor">#</a> 底层原理</h3> <p><strong>Docker是怎么工作的？</strong></p> <p>Docker是一个  Client - Server 结构的系统，Docker的守护进程运行在主机上。通过Socket从客户端访问！</p> <p>DockerServer接收到 Docker-Client的指令，就会执行这个命令。</p> <p>![image-20230117151816826](/Users/mym/Library/Application Support/typora-user-images/image-20230117151816826.png)</p> <p><strong>Docker为什么比VM快？</strong></p> <ol><li>Docker有着比虚拟机更少的抽象层</li> <li>Docker利用的宿主机的内核，VM需要是 Guest OS</li></ol> <p><img src="https://img-blog.csdnimg.cn/20210202112125801.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phdGVq,size_16,color_FFFFFF,t_70" alt="img"></p> <p><img src="https://img-blog.csdnimg.cn/img_convert/91868a37481f41dbc2b53a2303ce8fff.png" alt="img"></p> <p>所以说，新建一个容器的时候，docker不需要像虚拟机一样重新加载一个操作系统内核，避免引导性操作，虚拟机是加载Guest OS，分钟级别的，而docker是利用宿主机的操作系统，省略了这个复杂的过程，秒级</p> <p><img src="https://www.jb51.cc/res/2021/06-16/14/86eea9fd88f9b85220340f56cabcf6ac.png" alt="img"></p> <p>之后学习完毕所有的命令， 再回头来看这段理论，就会很清晰！</p> <h2 id="docker的常用命令"><a href="#docker的常用命令" class="header-anchor">#</a> Docker的常用命令</h2> <h3 id="帮助命令"><a href="#帮助命令" class="header-anchor">#</a> 帮助命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> version 		<span class="token comment"># 显示docker的版本信息</span>
<span class="token function">docker</span> info    		<span class="token comment"># 显示更详细信息</span>
<span class="token function">docker</span> 命令 <span class="token parameter variable">--help</span> <span class="token comment"># 万能命令</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>帮助文档的地址：https://docs.docker.com/engine/reference/commandline/docker/</p> <h3 id="镜像命令"><a href="#镜像命令" class="header-anchor">#</a> 镜像命令</h3> <h4 id="docker-images-查看镜像"><a href="#docker-images-查看镜像" class="header-anchor">#</a> docker images 查看镜像</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">16</span> months ago   <span class="token number">13</span>.3kB


<span class="token comment"># 解释</span>
REPOSITORY 镜像的仓库源
TAG        镜像的标签
IMAGE ID   镜像的ID
CREATED    镜像的创建时间
SIZE       镜像的大小

<span class="token comment"># 可选项</span>
	-a, <span class="token parameter variable">--all</span>    <span class="token comment"># 列出所有镜像</span>
	-q, <span class="token parameter variable">--quitet</span> <span class="token comment"># 只显示镜像的id</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="docker-search-搜索镜像"><a href="#docker-search-搜索镜像" class="header-anchor">#</a> <strong>docker search 搜索镜像</strong></h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z jupiter-layout<span class="token punctuation">]</span><span class="token comment"># docker search mysql</span>
NAME                            DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                           MySQL is a widely used, open-source relation…   <span class="token number">13702</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mariadb                         MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">5231</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>  

<span class="token comment"># 可选项，通过搜索来过滤</span>
<span class="token parameter variable">--fillter</span><span class="token operator">=</span>STARS<span class="token operator">=</span><span class="token number">3000</span> <span class="token comment">#大于3000</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker search mysql --filter=STARS=3000</span>
NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql     MySQL is a widely used, open-source relation…   <span class="token number">13702</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mariadb   MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">5231</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="docker-pull-下载镜像"><a href="#docker-pull-下载镜像" class="header-anchor">#</a> <strong>docker pull 下载镜像</strong></h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 下载镜像 docker pull 镜像名[:tag]</span>
<span class="token comment"># 如果不写tag，默认就是latest</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker pull mysql</span>
Using default tag: latest
latest: Pulling from library/mysql
72a69066d2fe: Already exists <span class="token comment"># 分层下载，docker image的核心 联合文件系统</span>
93619dbc5b36: Already exists 
99da31dd6142: Already exists 
626033c43d70: Already exists 
37d5d7efb64e: Already exists 
ac563158d721: Already exists 
d2ba16033dad: Already exists 
688ba7d5c01a: Pull complete 
00e060b6d11d: Pull complete 
1c04857f594f: Pull complete 
4d7cfa90e6ea: Pull complete 
e0431212d27d: Pull complete 
Digest: sha256:e9027fe4d91c0153429607251656806cc784e914937271037f7738bd5b8e7709 <span class="token comment"># 签名</span>
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest <span class="token comment"># 真实地址</span>
docker.io/library/mysql:latest

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="docker-rmi-删除镜像"><a href="#docker-rmi-删除镜像" class="header-anchor">#</a> docker rmi 删除镜像</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 删除指定的容器</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> 镜像id

<span class="token comment"># 删除多个容器</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> 镜像id 镜像id 镜像id

<span class="token comment"># 删除全部容器</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="容器命令"><a href="#容器命令" class="header-anchor">#</a> 容器命令</h3> <p>说明：我们有了镜像才可以创建容器，linux，下载一个centos镜像来测试学习</p> <h4 id="docker-run-新建容器并启动"><a href="#docker-run-新建容器并启动" class="header-anchor">#</a> docker run 新建容器并启动</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token punctuation">[</span>可选参数<span class="token punctuation">]</span> image

<span class="token comment"># 参数说明</span>
<span class="token parameter variable">--name</span><span class="token operator">=</span><span class="token string">&quot;Name&quot;</span>	容器名字 tomcat01 tomcat02，用来区分容器
<span class="token parameter variable">-d</span> 						后台方式运行
<span class="token parameter variable">-it</span>						使用交互方式运行，进入容器查看内容
<span class="token parameter variable">-p</span>						指定容器的端口 <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080
			<span class="token parameter variable">-p</span> ip:主机端口：容器端口
			<span class="token parameter variable">-p</span> 主机端口:容器端口（常用）
			<span class="token parameter variable">-p</span> 容器端口
<span class="token parameter variable">-P</span>						随机指定端口

<span class="token comment"># 测试，启动并进入容器</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker run -it centos /bin/bash</span>
<span class="token punctuation">[</span>root@69f6b8df1e65 /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

<span class="token comment"># 从容器中退回主机</span>
<span class="token punctuation">[</span>root@69f6b8df1e65 /<span class="token punctuation">]</span><span class="token comment">#  exit</span>
<span class="token builtin class-name">exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="docker-ps-列出运行容器"><a href="#docker-ps-列出运行容器" class="header-anchor">#</a> docker ps 列出运行容器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># docker ps 命令</span>

<span class="token parameter variable">-a</span>   <span class="token comment"># 列出当前正在运行的容器 + 历史运行过的容器</span>
<span class="token parameter variable">-n</span><span class="token operator">=</span>? <span class="token comment"># 显示最近创建的容器 ？是数字</span>
<span class="token parameter variable">-q</span>   <span class="token comment"># 只显示容器的编号</span>

<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE         COMMAND       CREATED         STATUS                      PORTS     NAMES
69f6b8df1e65   centos        <span class="token string">&quot;/bin/bash&quot;</span>   <span class="token number">3</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">44</span> seconds ago             relaxed_blackburn
93226653704e   hello-world   <span class="token string">&quot;/hello&quot;</span>      <span class="token number">26</span> hours ago    Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">26</span> hours ago               musing_williams
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="退出容器"><a href="#退出容器" class="header-anchor">#</a> 退出容器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">exit</span>         <span class="token comment"># 直接容器停止并退出</span>
Ctrl + P + Q <span class="token comment"># 容器不停止退出</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="docker-rm-删除容器"><a href="#docker-rm-删除容器" class="header-anchor">#</a> docker rm 删除容器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token function">rm</span> 容器id								 <span class="token comment"># 删除指定容器，不能删除长在运行的容器，如果要强制删除 rm -f</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>		<span class="token comment"># 删除所有的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> -q<span class="token operator">|</span><span class="token function">xargs</span>	<span class="token function">docker</span> <span class="token function">rm</span>	<span class="token comment"># 删除所有的容器</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="启动和停止容器的操作"><a href="#启动和停止容器的操作" class="header-anchor">#</a> 启动和停止容器的操作</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> start 容器id		<span class="token comment"># 启动容器</span>
<span class="token function">docker</span> restart 容器id <span class="token comment"># 重启容器</span>
<span class="token function">docker</span> stop 容器id		<span class="token comment"># 停止当前正在进行的容器</span>
<span class="token function">docker</span> <span class="token function">kill</span> 容器id    <span class="token comment"># 强制停止当前的容器</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="常用其他命令"><a href="#常用其他命令" class="header-anchor">#</a> 常用其他命令</h3> <h4 id="后台启动容器"><a href="#后台启动容器" class="header-anchor">#</a> 后台启动容器</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 命令 docker run -d 镜像名</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker run -d centos</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>docker ps，发现 centos停止了</p> <p>常见的坑，docker容器使用后台运行，就必须要有一个前台进程，docker发现没有应用，就会自动停止</p> <p>nginx，容器启动后，发现自己没有提供服务，就会立刻停止，就是没有程序了</p></div> <h4 id="查看日志"><a href="#查看日志" class="header-anchor">#</a> 查看日志</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> <span class="token parameter variable">-t</span> <span class="token parameter variable">--tail</span> 容器，没有日志

<span class="token comment"># 自己编写一段shell脚本</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> centos /bin/sh <span class="token parameter variable">-c</span> <span class="token string">&quot;while true;do echo maimaimai;sleep 2;done&quot;</span>

<span class="token comment"># [root@iZwz954642t91dbe6lc2l1Z ~]# docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES
415c046871f9   centos    <span class="token string">&quot;/bin/sh -c 'while t…&quot;</span>   <span class="token number">7</span> seconds ago   Up <span class="token number">6</span> seconds             amazing_germain

<span class="token comment"># 显示日志</span>
<span class="token parameter variable">-tf</span>
-- <span class="token function">tail</span> number <span class="token comment"># 要显示日志条数</span>

<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker logs -tf --tail 10 415c046871f9</span>
<span class="token number">2023</span>-01-18T09:37:51.991608375Z maimaimai
<span class="token number">2023</span>-01-18T09:37:53.993733005Z maimaimai
<span class="token number">2023</span>-01-18T09:37:55.995781070Z maimaimai
<span class="token number">2023</span>-01-18T09:37:57.997893404Z maimaimai
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="查看容器中进程信息"><a href="#查看容器中进程信息" class="header-anchor">#</a> 查看容器中进程信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 命令docker top</span>

<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker top 415c046871f9</span>
<span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD
root                <span class="token number">18316</span>               <span class="token number">18297</span>               <span class="token number">0</span>                   <span class="token number">17</span>:35               ?                   00:00:00            
root                <span class="token number">22394</span>               <span class="token number">18316</span>               <span class="token number">0</span>                   <span class="token number">17</span>:39               ?                   00:00:00    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="进入当前的"><a href="#进入当前的" class="header-anchor">#</a> 进入当前的</h4> <h3 id="操作命令"><a href="#操作命令" class="header-anchor">#</a> 操作命令</h3> <h2 id="docker镜像"><a href="#docker镜像" class="header-anchor">#</a> Docker镜像</h2> <h2 id="容器数据卷"><a href="#容器数据卷" class="header-anchor">#</a> 容器数据卷</h2> <h2 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h2> <h2 id="docker网络原理"><a href="#docker网络原理" class="header-anchor">#</a> Docker网络原理</h2> <h2 id="idea整合docker"><a href="#idea整合docker" class="header-anchor">#</a> IDEA整合Docker</h2> <h2 id="docker-compose"><a href="#docker-compose" class="header-anchor">#</a> Docker Compose</h2> <p>https://get.daocloud.io/</p> <h2 id="docker-swarm"><a href="#docker-swarm" class="header-anchor">#</a> Docker Swarm</h2> <h2 id="ci-cd-jenkins"><a href="#ci-cd-jenkins" class="header-anchor">#</a> CI\CD Jenkins</h2></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/02.编程分享/03.学习笔记/02.Docker学习笔记.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Docker" title="标签">#Docker</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/02/19, 00:03:59</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f032ce/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Golang学习笔记</div></a> <a href="/pages/c056a3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Consul学习笔记</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f032ce/" class="prev">Golang学习笔记</a></span> <span class="next"><a href="/pages/c056a3/">Consul学习笔记</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/47d49a/"><div>
            策略模式
            <!----></div></a> <span class="date">03-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/fd5ada/"><div>
            单例模式
            <!----></div></a> <span class="date">03-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/37e5cd/"><div>
            设计模式介绍
            <!----></div></a> <span class="date">03-05</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:906631095@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/famousmai" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.45fc016d.js" defer></script><script src="/assets/js/2.1566420c.js" defer></script><script src="/assets/js/15.5197d951.js" defer></script>
  </body>
</html>
