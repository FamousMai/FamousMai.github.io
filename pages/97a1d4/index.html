<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Elkå­¦ä¹ ç¬”è®° | Famousmai&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="ä¸šåŠ¡åç«¯æŠ€æœ¯åšå®¢,ä¸“æ³¨ä¸šåŠ¡åç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚Golang,PHP,Mysql,Redis,Docker,K8s,Kafka,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.d9c8cf8c.css" as="style"><link rel="preload" href="/assets/js/app.45fc016d.js" as="script"><link rel="preload" href="/assets/js/2.1566420c.js" as="script"><link rel="preload" href="/assets/js/17.2ad70a11.js" as="script"><link rel="prefetch" href="/assets/js/10.a148929c.js"><link rel="prefetch" href="/assets/js/11.a071a1ef.js"><link rel="prefetch" href="/assets/js/12.843ca346.js"><link rel="prefetch" href="/assets/js/13.2c169178.js"><link rel="prefetch" href="/assets/js/14.7a90ce86.js"><link rel="prefetch" href="/assets/js/15.5197d951.js"><link rel="prefetch" href="/assets/js/16.363c0bf3.js"><link rel="prefetch" href="/assets/js/18.b92d6592.js"><link rel="prefetch" href="/assets/js/19.63d11be7.js"><link rel="prefetch" href="/assets/js/20.1ccb10d7.js"><link rel="prefetch" href="/assets/js/21.338a9b81.js"><link rel="prefetch" href="/assets/js/22.73c1a0a8.js"><link rel="prefetch" href="/assets/js/23.641d234e.js"><link rel="prefetch" href="/assets/js/24.30edc793.js"><link rel="prefetch" href="/assets/js/25.2807c308.js"><link rel="prefetch" href="/assets/js/26.b190a4d4.js"><link rel="prefetch" href="/assets/js/27.ddddc565.js"><link rel="prefetch" href="/assets/js/28.e54feb5b.js"><link rel="prefetch" href="/assets/js/29.733e9e55.js"><link rel="prefetch" href="/assets/js/3.f11d74fe.js"><link rel="prefetch" href="/assets/js/30.5a732471.js"><link rel="prefetch" href="/assets/js/31.df1125c4.js"><link rel="prefetch" href="/assets/js/32.c6f0fa2d.js"><link rel="prefetch" href="/assets/js/33.259f52a8.js"><link rel="prefetch" href="/assets/js/34.c35736bd.js"><link rel="prefetch" href="/assets/js/35.49cce032.js"><link rel="prefetch" href="/assets/js/36.0075365f.js"><link rel="prefetch" href="/assets/js/37.7389c926.js"><link rel="prefetch" href="/assets/js/38.793e1ae9.js"><link rel="prefetch" href="/assets/js/39.b4a0199f.js"><link rel="prefetch" href="/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/assets/js/40.25334e93.js"><link rel="prefetch" href="/assets/js/41.a6c7402b.js"><link rel="prefetch" href="/assets/js/5.483deb8b.js"><link rel="prefetch" href="/assets/js/6.e419e813.js"><link rel="prefetch" href="/assets/js/7.a98c1a28.js"><link rel="prefetch" href="/assets/js/8.bbb15a0b.js"><link rel="prefetch" href="/assets/js/9.9be18fa0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9c8cf8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Famousmai's blog" class="logo"> <span class="site-name can-hide">Famousmai's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/guide/" class="nav-link">ğŸ‘ ç½‘ç«™ä»‹ç»</a></div><div class="nav-item"><a href="/code/" class="nav-link">ğŸ’¯ ç¼–ç¨‹åˆ†äº«</a></div><div class="nav-item"><a href="/life/" class="nav-link">âœï¸ ç”Ÿæ´»æ„Ÿæ‚Ÿ</a></div><div class="nav-item"><a href="/game/" class="nav-link">ğŸ® æ¸¸æˆäººç”Ÿ</a></div><div class="nav-item"><a href="/website/" class="nav-link">ğŸ“ˆ ç½‘ç«™åŠ¨æ€</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">ğŸ’Œ æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—‚ï¸ ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ—‚ï¸ ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ—‚ï¸ ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/17564206?v=4"> <div class="blogger-info"><h3>Famous Mai</h3> <span>çˆ±ç©è¾…åŠ©çš„åç«¯å°å“¥</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/guide/" class="nav-link">ğŸ‘ ç½‘ç«™ä»‹ç»</a></div><div class="nav-item"><a href="/code/" class="nav-link">ğŸ’¯ ç¼–ç¨‹åˆ†äº«</a></div><div class="nav-item"><a href="/life/" class="nav-link">âœï¸ ç”Ÿæ´»æ„Ÿæ‚Ÿ</a></div><div class="nav-item"><a href="/game/" class="nav-link">ğŸ® æ¸¸æˆäººç”Ÿ</a></div><div class="nav-item"><a href="/website/" class="nav-link">ğŸ“ˆ ç½‘ç«™åŠ¨æ€</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">ğŸ’Œ æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—‚ï¸ ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ—‚ï¸ ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ—‚ï¸ ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®—æ³•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å­¦ä¹ ç¬”è®°</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/f032ce/" class="sidebar-link">Golangå­¦ä¹ ç¬”è®°</a></li><li><a href="/pages/aea1b6/" class="sidebar-link">Dockerå­¦ä¹ ç¬”è®°</a></li><li><a href="/pages/c056a3/" class="sidebar-link">Consulå­¦ä¹ ç¬”è®°</a></li><li><a href="/pages/97a1d4/" aria-current="page" class="active sidebar-link">Elkå­¦ä¹ ç¬”è®°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/97a1d4/#docker-compose-yml" class="sidebar-link">docker-compose.yml</a></li><li class="sidebar-sub-header level2"><a href="/pages/97a1d4/#é…ç½®æ–‡ä»¶å‚è€ƒ" class="sidebar-link">é…ç½®æ–‡ä»¶å‚è€ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/97a1d4/#elasticsearch-config-elasticsearch-yml" class="sidebar-link">elasticsearch/config/elasticsearch.yml</a></li><li class="sidebar-sub-header level3"><a href="/pages/97a1d4/#kibana-config-kibana-yml" class="sidebar-link">kibana/config/kibana.yml</a></li><li class="sidebar-sub-header level3"><a href="/pages/97a1d4/#logstash-config-logstash-yml" class="sidebar-link">logstash/config/logstash.yml</a></li><li class="sidebar-sub-header level3"><a href="/pages/97a1d4/#logstash-pipeline-logstash-config" class="sidebar-link">logstash/pipeline/logstash.config</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/97a1d4/#elasticsearch" class="sidebar-link">elasticsearch</a></li></ul></li><li><a href="/pages/9b39a6/" class="sidebar-link">æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</a></li><li><a href="/pages/95499f/" class="sidebar-link">Goå®æ“é¡¹ç›®å­¦ä¹ ç¬”è®°</a></li><li><a href="/pages/f1d7cd/" class="sidebar-link">Paypalå¯¹æ¥å­¦ä¹ ç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è¸©å‘è®°å½•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é¢è¯•åˆ†äº«</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æŠ€æœ¯æ–¹æ¡ˆæ–‡ç« æ¢³ç†</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è®¾è®¡æ¨¡å¼</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/code/#ç¼–ç¨‹åˆ†äº«" data-v-06225672>ç¼–ç¨‹åˆ†äº«</a></li><li data-v-06225672><a href="/code/#å­¦ä¹ ç¬”è®°" data-v-06225672>å­¦ä¹ ç¬”è®°</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/famousmai" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>famousmai</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-02-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Elkå­¦ä¹ ç¬”è®°<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="elkæ—¥å¿—ç³»ç»Ÿå­¦ä¹ ç¬”è®°"><a href="#elkæ—¥å¿—ç³»ç»Ÿå­¦ä¹ ç¬”è®°" class="header-anchor">#</a> ELKæ—¥å¿—ç³»ç»Ÿå­¦ä¹ ç¬”è®°</h1> <h2 id="docker-compose-yml"><a href="#docker-compose-yml" class="header-anchor">#</a> docker-compose.yml</h2> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># å£°æ˜ç‰ˆæœ¬</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> elasticsearch<span class="token punctuation">:</span>8.6.0
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9200:9200&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9300:9300&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./elasticsearch/config/elasticsearch.yml<span class="token punctuation">:</span>/usr/share/elasticsearch/config/elasticsearch.yml
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">ES_JAVA_OPTS</span><span class="token punctuation">:</span> <span class="token string">&quot;-Xmx256m -Xms256m&quot;</span>
      <span class="token key atrule">ELASTIC_PASSWORD</span><span class="token punctuation">:</span> maipwd
      <span class="token key atrule">discovery.type</span><span class="token punctuation">:</span> single<span class="token punctuation">-</span>node
      <span class="token key atrule">network.publish_host</span><span class="token punctuation">:</span> _eth0_

  <span class="token key atrule">logstash</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> logstash<span class="token punctuation">:</span>8.6.0
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5044:5004&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5000:5000&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9600:9600&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./logstash/config/logstash.yml<span class="token punctuation">:</span>/usr/share/logstash/config/logstash.yml
      <span class="token punctuation">-</span> ./logstash/pipeline/logstash.config<span class="token punctuation">:</span>/usr/share/logstash/pipeline/logstash.config
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">ES_JAVA_OPTS</span><span class="token punctuation">:</span> <span class="token string">&quot;-Xmx256m -Xms256m&quot;</span>

  <span class="token key atrule">kibana</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> kibana<span class="token punctuation">:</span>8.6.0
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5601:5601&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./kibana/config/kibana.yml<span class="token punctuation">:</span>/usr/share/kibana/config/kibana.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>8.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œé…ç½®çš„è´¦å·ï¼Œéœ€è¦éªŒè¯ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç”¨äº†</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span><span class="token number">2023</span>-01-27T07:37:22.820+00:00<span class="token punctuation">]</span><span class="token punctuation">[</span>FATAL<span class="token punctuation">]</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span> Error: <span class="token punctuation">[</span>config validation of <span class="token punctuation">[</span>elasticsearch<span class="token punctuation">]</span>.username<span class="token punctuation">]</span>: value of <span class="token string">&quot;elastic&quot;</span> is forbidden. This is a superuser account that cannot <span class="token function">write</span> to system indices that Kibana needs to function. Use a <span class="token function">service</span> account token instead. Learn more: https://www.elastic.co/guide/en/elasticsearch/reference/8.0/service-accounts.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h2 id="é…ç½®æ–‡ä»¶å‚è€ƒ"><a href="#é…ç½®æ–‡ä»¶å‚è€ƒ" class="header-anchor">#</a> é…ç½®æ–‡ä»¶å‚è€ƒ</h2> <h3 id="elasticsearch-config-elasticsearch-yml"><a href="#elasticsearch-config-elasticsearch-yml" class="header-anchor">#</a> elasticsearch/config/elasticsearch.yml</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">cluster.name</span><span class="token punctuation">:</span> <span class="token string">&quot;mai-cluster&quot;</span>
<span class="token key atrule">network.host</span><span class="token punctuation">:</span> 0.0.0.0

<span class="token key atrule">xpack.license.self_generated.type</span><span class="token punctuation">:</span> trial
<span class="token key atrule">xpack.security.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">xpack.monitoring.collection.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="kibana-config-kibana-yml"><a href="#kibana-config-kibana-yml" class="header-anchor">#</a> kibana/config/kibana.yml</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">server.name</span><span class="token punctuation">:</span> kibana
<span class="token key atrule">server.host</span><span class="token punctuation">:</span> 0.0.0.0
<span class="token key atrule">monitoring.ui.container.elasticsearch.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">elasticsearch.hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://172.26.0.4:9200&quot;</span><span class="token punctuation">]</span>
<span class="token key atrule">elasticsearch.username</span><span class="token punctuation">:</span> elastic
<span class="token key atrule">elasticsearch.password</span><span class="token punctuation">:</span> maipwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="logstash-config-logstash-yml"><a href="#logstash-config-logstash-yml" class="header-anchor">#</a> logstash/config/logstash.yml</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">http.host</span><span class="token punctuation">:</span> <span class="token string">&quot;0.0.0.0&quot;</span>
<span class="token key atrule">xpack.monitoring.elasticsearch.hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://172.26.0.4:9200&quot;</span><span class="token punctuation">]</span>

<span class="token key atrule">xpack.monitoring.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">xpack.monitoring.elasticsearch.username</span><span class="token punctuation">:</span> elastic
<span class="token key atrule">xpack.monitoring.elasticsearch.password</span><span class="token punctuation">:</span> maipwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="logstash-pipeline-logstash-config"><a href="#logstash-pipeline-logstash-config" class="header-anchor">#</a> logstash/pipeline/logstash.config</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>input <span class="token punctuation">{</span>
    beats <span class="token punctuation">{</span>
        port <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5044</span>
    <span class="token punctuation">}</span>
    tcp <span class="token punctuation">{</span>
        port <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5000</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

output <span class="token punctuation">{</span>
    elasticsearch <span class="token punctuation">{</span>
        hosts <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;http://172.26.0.4:9200&quot;</span>
        user <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;elastic&quot;</span>
        password <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;maipwd&quot;</span>
        index <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;%{[@metadata][-imooc]}-%{[@metadata][version]}-%{+YYYY.MM.dd}&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="elasticsearch"><a href="#elasticsearch" class="header-anchor">#</a> elasticsearch</h2> <p>docker</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>
						 <span class="token parameter variable">--name</span> elasticsearch-container <span class="token punctuation">\</span>
						 <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span>
						 <span class="token parameter variable">-v</span> /Users/mym/Documents/Code/go-project-shop/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml elasticsearch:8.6.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å®˜æ–¹è¯´ Elasticsearch 8.0 å®‰å…¨åŠŸèƒ½éœ€è¦ä¼ è¾“ç½‘ç»œå±‚çš„TLSåŠ å¯†ï¼Œæ‰€ä»¥ä½¿ç”¨8.0ä»¥ä¸Šéœ€è¦å…ˆåˆ›å»ºdockerç¯å¢ƒ</p> <p>Starting in Elasticsearch 8.0, security is enabled by default. With security enabled, Elastic Stack security features require TLS encryption for the transport networking layer, or your cluster will fail to start.</p> <p>å‚è€ƒé“¾æ¥</p> <p>https://blog.51cto.com/liuqunying/2121528</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/02.ç¼–ç¨‹åˆ†äº«/03.å­¦ä¹ ç¬”è®°/04.Elkå­¦ä¹ ç¬”è®°.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Elk" title="æ ‡ç­¾">#Elk</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2023/02/19, 00:03:59</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/c056a3/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Consulå­¦ä¹ ç¬”è®°</div></a> <a href="/pages/9b39a6/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/c056a3/" class="prev">Consulå­¦ä¹ ç¬”è®°</a></span> <span class="next"><a href="/pages/9b39a6/">æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/47d49a/"><div>
            ç­–ç•¥æ¨¡å¼
            <!----></div></a> <span class="date">03-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/fd5ada/"><div>
            å•ä¾‹æ¨¡å¼
            <!----></div></a> <span class="date">03-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/37e5cd/"><div>
            è®¾è®¡æ¨¡å¼ä»‹ç»
            <!----></div></a> <span class="date">03-05</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:906631095@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/famousmai" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.45fc016d.js" defer></script><script src="/assets/js/2.1566420c.js" defer></script><script src="/assets/js/17.2ad70a11.js" defer></script>
  </body>
</html>
