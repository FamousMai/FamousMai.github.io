<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockerå­¦ä¹ ç¬”è®° | è€éº¦çš„æ—¥å¸¸</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="è®°å½•å­¦ä¹ æ—¥å¸¸">
    <meta name="theme-color" content="#1e80ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.a528d36a.css" as="style"><link rel="preload" href="/assets/js/app.ab260301.js" as="script"><link rel="preload" href="/assets/js/2.6430ac10.js" as="script"><link rel="preload" href="/assets/js/11.1c9d0aac.js" as="script"><link rel="prefetch" href="/assets/js/10.7dfd46d0.js"><link rel="prefetch" href="/assets/js/12.3c3d4265.js"><link rel="prefetch" href="/assets/js/13.155f9790.js"><link rel="prefetch" href="/assets/js/14.151ae722.js"><link rel="prefetch" href="/assets/js/15.363676a6.js"><link rel="prefetch" href="/assets/js/16.58044f52.js"><link rel="prefetch" href="/assets/js/17.b9e23688.js"><link rel="prefetch" href="/assets/js/18.59819c4c.js"><link rel="prefetch" href="/assets/js/19.1c83ce2d.js"><link rel="prefetch" href="/assets/js/20.df484dce.js"><link rel="prefetch" href="/assets/js/21.91b1c0f3.js"><link rel="prefetch" href="/assets/js/3.869cf45f.js"><link rel="prefetch" href="/assets/js/4.8501b49b.js"><link rel="prefetch" href="/assets/js/5.870fe497.js"><link rel="prefetch" href="/assets/js/6.aeb7dc84.js"><link rel="prefetch" href="/assets/js/7.d6c6fffe.js"><link rel="prefetch" href="/assets/js/8.2984a5ea.js"><link rel="prefetch" href="/assets/js/9.1c6234b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a528d36a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">è€éº¦çš„æ—¥å¸¸</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  ğŸ‘ ç½‘ç«™ä»‹ç»
</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active">
  ğŸ’¯ ç¼–ç¨‹åˆ†äº«
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  âœï¸ ç”Ÿæ´»æ„Ÿæ‚Ÿ
</a></div><div class="nav-item"><a href="/game/" class="nav-link">
  ğŸ® æ¸¸æˆäººç”Ÿ
</a></div><div class="nav-item"><a href="/website/" class="nav-link">
  ğŸ“ˆ ç½‘ç«™åŠ¨æ€
</a></div> <a href="https://github.com/FamousMai/FamousMai.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  ğŸ‘ ç½‘ç«™ä»‹ç»
</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active">
  ğŸ’¯ ç¼–ç¨‹åˆ†äº«
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  âœï¸ ç”Ÿæ´»æ„Ÿæ‚Ÿ
</a></div><div class="nav-item"><a href="/game/" class="nav-link">
  ğŸ® æ¸¸æˆäººç”Ÿ
</a></div><div class="nav-item"><a href="/website/" class="nav-link">
  ğŸ“ˆ ç½‘ç«™åŠ¨æ€
</a></div> <a href="https://github.com/FamousMai/FamousMai.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¼–ç¨‹åˆ†äº«</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/nodejs.html" class="sidebar-link">nodejs</a></li><li><a href="/code/go-vue-admin.html" class="sidebar-link">gin-vue-admin</a></li><li><a href="/code/php.html" class="sidebar-link">PHP</a></li><li><a href="/code/mac.html" class="sidebar-link">Macå¸¸è§é—®é¢˜å¤„ç†</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/docker.html" aria-current="page" class="active sidebar-link">Dockerå­¦ä¹ ç¬”è®°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/docker.html#dockeræ¦‚è¿°" class="sidebar-link">Dockeræ¦‚è¿°</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#dockerå®‰è£…" class="sidebar-link">Dockerå®‰è£…</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#dockerçš„å¸¸ç”¨å‘½ä»¤" class="sidebar-link">Dockerçš„å¸¸ç”¨å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#dockeré•œåƒ" class="sidebar-link">Dockeré•œåƒ</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#å®¹å™¨æ•°æ®å·" class="sidebar-link">å®¹å™¨æ•°æ®å·</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#dockerfile" class="sidebar-link">Dockerfile</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#dockerç½‘ç»œåŸç†" class="sidebar-link">Dockerç½‘ç»œåŸç†</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#ideaæ•´åˆdocker" class="sidebar-link">IDEAæ•´åˆDocker</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#docker-compose" class="sidebar-link">Docker Compose</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#docker-swarm" class="sidebar-link">Docker Swarm</a></li><li class="sidebar-sub-header"><a href="/code/docker.html#ci-cd-jenkins" class="sidebar-link">CI\CD Jenkins</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dockerå­¦ä¹ ç¬”è®°"><a href="#dockerå­¦ä¹ ç¬”è®°" class="header-anchor">#</a> Dockerå­¦ä¹ ç¬”è®°</h1> <blockquote><p>å­¦å‰å‡†å¤‡</p></blockquote> <ol><li>linuxï¼ˆå¿…è¦ï¼‰</li> <li></li></ol> <h2 id="dockeræ¦‚è¿°"><a href="#dockeræ¦‚è¿°" class="header-anchor">#</a> Dockeræ¦‚è¿°</h2> <h3 id="dockerä¸ºä»€ä¹ˆå‡ºç°"><a href="#dockerä¸ºä»€ä¹ˆå‡ºç°" class="header-anchor">#</a> Dockerä¸ºä»€ä¹ˆå‡ºç°</h3> <p>ä¸€æ¬¾äº§å“ï¼šå¼€å‘ ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ ï¼ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®</p> <p>å¼€å‘ --- è¿ç»´ã€‚é—®é¢˜ï¼šæˆ‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥è¿è¡Œï¼ç‰ˆæœ¬æ›´æ–°ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼å¯¹äºè¿ç»´æ¥è¯´ï¼Œè€ƒéªŒå°±ååˆ†å¤§</p> <p>ç¯å¢ƒé…ç½®æ˜¯ååˆ†éº»çƒ¦çš„ï¼Œæ¯ä¸€ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤Redisã€ESã€Hadoop...ï¼‰! è´¹æ—¶è´¹åŠ›ã€‚</p> <p>å‘å¸ƒä¸€ä¸ªé¡¹ç›®ï¼ˆç¨‹åºæ–‡ä»¶ + ï¼ˆRedisã€MySqlã€ESã€Hadoopï¼‰ï¼‰ï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…</p> <p>ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ Redisã€Mysqlã€ESã€Hadoop é…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½å¤Ÿè·¨å¹³å°</p> <p>Windowsï¼Œæœ€åå‘å¸ƒåˆ°Linuxï¼</p> <p>ä¼ ç»Ÿï¼šå¼€å‘goç¨‹åºï¼Œéƒ¨ç½²è¿ç»´æ¥åšï¼</p> <p>ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œï¼</p> <p>java --- apk -- å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ --- å¼ ä¸‰ä½¿ç”¨apk ---- å®‰è£…å³å¯ç”¨ï¼</p> <p>java --- jarï¼ˆç¯å¢ƒï¼‰ --- æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ ---- ï¼ˆDockerä»“åº“ï¼šå•†åº—ï¼‰ ---- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ --- ç›´æ¥è¿è¡Œå³å¯ï¼</p> <p>dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºäº†è§£å†³æ–¹æ¡ˆï¼</p> <p>Dockerçš„æ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼</p> <p>JRE -- å¤šä¸ªåº”ç”¨ï¼ˆç«¯å£å†²çªï¼‰ -- åŸæ¥éƒ½æ˜¯äº¤å‰çš„</p> <p>éš”ç¦»ï¼šdockeræ ¸å¿ƒæ€æƒ³ï¼æ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­æ˜¯äº’ç›¸éš”ç¦»çš„</p> <p>æ°´æœ ç”ŸåŒ–æ­¦å™¨</p> <p>Docker é€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´ï¼</p> <p>æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ï¼</p> <h3 id="dockerçš„å†å²"><a href="#dockerçš„å†å²" class="header-anchor">#</a> Dockerçš„å†å²</h3> <p>2010å¹´ï¼Œå‡ ä¸ªæITçš„å¹´è½»äººï¼Œå°±åœ¨ç¾å›½æˆç«‹äº†ä¸€å®¶å…¬å¸<code>dotCloud</code></p> <p>åšä¸€äº›passçš„äº‘è®¡ç®—æœåŠ¡ï¼LXCæœ‰å…³çš„å®¹å™¨æŠ€æœ¯ï¼</p> <p><img src="https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171827382.png" alt="image-20230117182705585"></p> <p>ä»–ä»¬å°†è‡ªå·±çš„æŠ€æœ¯ ï¼ˆå®¹å™¨åŒ–æŠ€æœ¯ï¼‰ å‘½åå°±æ˜¯ Dockerï¼</p> <p>Dockeråˆšåˆšè¯ç”Ÿçš„æ—¶å€™ï¼Œæ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotCloudï¼Œå°±æ´»ä¸ä¸‹å»ï¼</p> <p><code>å¼€æº</code></p> <p>å¼€æ”¾æºä»£ç ï¼</p> <p>2013å¹´ï¼ŒDockerå¼€æºï¼</p> <p>Docker è¶Šæ¥è¶Šå¤šçš„äººå‘ç°äº†dockerçš„ä¼˜ç‚¹ï¼ç«äº†ï¼ŒDockeræ¯ä¸ªæœˆéƒ½ä¼šæ›´æ–°ä¸€ä¸ªç‰ˆæœ¬ï¼</p> <p>2014å¹´4æœˆ9æ—¥ï¼ŒDocker1.0å‘å¸ƒ</p> <p>Dockerä¸ºä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿååˆ†çš„è½»å·§ï¼</p> <p>åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼</p> <p>è™šæ‹Ÿæœºï¼šåœ¨windowä¸­è£…ä¸€ä¸ªVmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼</p> <p>è™šæ‹Ÿæœºä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒDocker å®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§ è™šæ‹ŸåŒ–æŠ€æœ¯ï¼</p> <div class="language-shell extra-class"><pre class="language-shell"><code>vm: linux centosåŸç”Ÿé•œåƒï¼ˆä¸€ä¸ªç”µè„‘ï¼ï¼‰éš”ç¦»ï¼Œéœ€è¦å¼€å¯å¤šä¸ªè™šæ‹Ÿæœºï¼å‡ ä¸ªG å‡ åˆ†é’Ÿ
dockerï¼šéš”ç¦»ï¼Œé•œåƒï¼ˆæœ€æ ¸å¿ƒçš„ç¯å¢ƒ 4m + jdk + mysqlï¼‰ ååˆ†çš„å°å·§ï¼Œè¿è¡Œé•œåƒå°±å¯ä»¥äº†ï¼å°å·§ï¼å‡ ä¸ªM  KB ç§’çº§å¯åŠ¨ï¼
</code></pre></div><p>åˆ°ç°åœ¨ï¼Œæ‰€æœ‰å¼€å‘äººå‘˜éƒ½å¿…é¡»è¦ä¼šDockerï¼</p> <h3 id="èŠèŠdocker-ç½‘å€"><a href="#èŠèŠdocker-ç½‘å€" class="header-anchor">#</a> èŠèŠdockerï¼ˆç½‘å€ï¼‰</h3> <p>Docker æ˜¯åŸºäºGoè¯­è¨€å¼€å‘çš„ï¼å¼€æºé¡¹ç›®ï¼</p> <p>å®˜ç½‘ï¼šhttps://www.docker.com</p> <p>æ–‡æ¡£åœ°å€ï¼šhttps://docs.docker.com</p> <p>ä»“åº“åœ°å€ï¼šhttps://hub.docker.com</p> <h3 id="dockerèƒ½å¹²å˜›"><a href="#dockerèƒ½å¹²å˜›" class="header-anchor">#</a> Dockerèƒ½å¹²å˜›</h3> <h4 id="ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯"><a href="#ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯" class="header-anchor">#</a> ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯</h4> <p>![image-20230117123541741](/Users/mym/Library/Application Support/typora-user-images/image-20230117123541741.png)</p> <p>è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š</p> <ol><li>èµ„æºå ç”¨ååˆ†å¤š</li> <li>å†—ä½™æ­¥éª¤å¤š</li> <li>å¯åŠ¨å¾ˆæ…¢ï¼</li></ol> <h4 id="å®¹å™¨åŒ–æŠ€æœ¯"><a href="#å®¹å™¨åŒ–æŠ€æœ¯" class="header-anchor">#</a> å®¹å™¨åŒ–æŠ€æœ¯</h4> <p>==å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿçš„ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ==<img src="https://raw.githubusercontent.com/FamousMai/images/master/imgs/202301171828671.png" alt="image-20230117124052734"></p> <p>æ¯”è¾ƒDocker å’Œ è™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒ</p> <ul><li>ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€æ¡ç¡¬ä»¶ï¼Œè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç„¶ååœ¨è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶</li> <li>å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨ å®¿ä¸»æœºçš„å†…å®¹ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è™šæ‹Ÿæˆ‘ä»¬çš„æ„è§ï¼Œæ‰€ä»¥å°±è½»ä¾¿äº†</li> <li>æ¯ä¸ªå®¹å™¨é—´æ˜¯äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“</li></ul> <h4 id="devops-å¼€å‘ã€è¿ç»´"><a href="#devops-å¼€å‘ã€è¿ç»´" class="header-anchor">#</a> DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰</h4> <p><strong>åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</strong></p> <p>ä¼ ç»Ÿï¼šä¸€å †å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åº</p> <p>Dokcerï¼šæ‰“åŒ…é•œåƒå‘å¸ƒæµ‹è¯•ï¼Œä¸€é”®è¿è¡Œ</p> <p><strong>æ›´ä¾¿æ·çš„å‡çº§å’Œé˜”æ‰€å®¹</strong></p> <p>ä½¿ç”¨äº†Dockerä¹‹åï¼Œæˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±å’Œæ­ç§¯æœ¨ä¸€æ ·ï¼</p> <p>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±• æœåŠ¡å™¨Aï¼æœåŠ¡å™¨B</p> <p><strong>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</strong></p> <p>åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒéƒ½æ˜¯é«˜åº¦ä¸€è‡´çš„</p> <p><strong>æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨</strong></p> <p>Dockeræ˜¯ å†…æ ¸çº§åˆ«çš„è™šæ‹Ÿè¯ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼æœåŠ¡å™¨çš„æ€§èƒ½å¯ä»¥è¢«å‹æ¦¨åˆ°æè‡´</p> <h2 id="dockerå®‰è£…"><a href="#dockerå®‰è£…" class="header-anchor">#</a> Dockerå®‰è£…</h2> <h3 id="docker-çš„åŸºæœ¬ç»„æˆ"><a href="#docker-çš„åŸºæœ¬ç»„æˆ" class="header-anchor">#</a> docker çš„åŸºæœ¬ç»„æˆ</h3> <p><img src="https://i.loli.net/2020/12/15/V4S3yiDK6PCGtbd.png" alt="img"></p> <p><strong>é•œåƒï¼ˆimageï¼‰</strong></p> <p>å°±å¥½æ¯”æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆï¼Œå¯ä»¥é€šè¿‡è¿™ä¹ˆæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œtomcaté•œåƒ ===&gt; run ==&gt; tomcat01å®¹å™¨ï¼ˆæä¾›æœåŠ¡å™¨ï¼‰</p> <p>é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼ˆæœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„ï¼‰ã€‚</p> <p><strong>å®¹å™¨ï¼ˆcontainerï¼‰</strong></p> <p>Dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ä¸ªç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºçš„ã€‚</p> <p>å¯åŠ¨ï¼Œåœæ­¢ï¼Œåˆ é™¤ï¼ŒåŸºæœ¬å‘½ä»¤ï¼</p> <p>ç›®å‰å°±å¯ä»¥æŠŠè¿™ä¸ªå®¹å™¨ç†è§£ä¸ºä¸€ä¸ªç®€æ˜“çš„linuxç³»ç»Ÿ</p> <p><strong>ä»“åº“ï¼ˆrepositoryï¼‰</strong></p> <p>ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼</p> <p>ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ï¼</p> <p>Docker Hubï¼ˆé»˜è®¤æ˜¯å›½å¤–çš„ï¼‰</p> <p>é˜¿é‡Œäº‘... éƒ½æœ‰å®¹å™¨æœåŠ¡ï¼ˆé…ç½®é•œåƒåŠ é€Ÿï¼ï¼‰</p> <h3 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="header-anchor">#</a> å®‰è£…Docker</h3> <h4 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="header-anchor">#</a> ç¯å¢ƒå‡†å¤‡</h4> <ol><li>éœ€è¦ä¼šä¸€ç‚¹ç‚¹çš„linuxåŸºç¡€</li> <li>Centos 7</li> <li>æˆ‘ä»¬ä½¿ç”¨xshellè¿æ¥è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ“ä½œï¼</li></ol> <h4 id="ç¯å¢ƒæŸ¥çœ‹"><a href="#ç¯å¢ƒæŸ¥çœ‹" class="header-anchor">#</a> ç¯å¢ƒæŸ¥çœ‹</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># ç³»ç»Ÿå†…æ ¸æ˜¯3.10ä»¥ä¸Šçš„</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># uname -r</span>
<span class="token number">3.10</span>.0-1127.19.1.el7.x86_64
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/os-release </span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux&quot;</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">&quot;7 (Core)&quot;</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">&quot;rhel fedora&quot;</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux 7 (Core)&quot;</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">&quot;0;31&quot;</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">&quot;cpe:/o:centos:centos:7&quot;</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">&quot;https://www.centos.org/&quot;</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">&quot;https://bugs.centos.org/&quot;</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">&quot;CentOS-7&quot;</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
</code></pre></div><h4 id="å®‰è£…-centos"><a href="#å®‰è£…-centos" class="header-anchor">#</a> å®‰è£…ï¼ˆcentosï¼‰</h4> <p><strong>å‚è€ƒé“¾æ¥</strong></p> <p>https://developer.aliyun.com/mirror/docker-ce?spm=a2c6h.13651102.0.0.55e01b110vCziG</p> <p>https://juejin.cn/post/7189159542918217789</p> <p><strong>å¸®åŠ©æ–‡æ¡£</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 1. å¸è½½æ—§ç‰ˆæœ¬</span>
yum remove <span class="token function">docker</span> docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine
å·²åŠ è½½æ’ä»¶ï¼šfastestmirror
å‚æ•° <span class="token function">docker</span> æ²¡æœ‰åŒ¹é…
å‚æ•° docker-client æ²¡æœ‰åŒ¹é…
å‚æ•° docker-client-latest æ²¡æœ‰åŒ¹é…
å‚æ•° docker-common æ²¡æœ‰åŒ¹é…
å‚æ•° docker-latest æ²¡æœ‰åŒ¹é…
å‚æ•° docker-latest-logrotate æ²¡æœ‰åŒ¹é…
å‚æ•° docker-logrotate æ²¡æœ‰åŒ¹é…
å‚æ•° docker-engine æ²¡æœ‰åŒ¹é…

<span class="token comment"># 2. éœ€è¦çš„å®‰è£…åŒ…</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils

<span class="token comment"># 3. è®¾ç½®é•œåƒçš„ä»“åº“</span>
yum-config-manager <span class="token punctuation">\</span>
	--add-repo <span class="token punctuation">\</span>
	https://download.docker.com/linux/centos/docker-ce.repo <span class="token comment"># é»˜è®¤æ˜¯å›½å¤–çš„</span>
	
yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo <span class="token comment"># é˜¿é‡Œäº‘åŠ é€Ÿï¼Œååˆ†åœ°å¿«</span>

<span class="token comment"># æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</span>
yum makecache fast

<span class="token comment"># 4. å®‰è£…docker docker-ceç¤¾åŒºç‰ˆ eeæ˜¯ä¼ä¸šç‰ˆ</span>
yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io

<span class="token comment"># 5. å¯åŠ¨docker</span>
systemctl start <span class="token function">docker</span>
<span class="token function">service</span> <span class="token function">docker</span> start

<span class="token comment"># 6. docker version æ£€æŸ¥æ˜¯å¦æˆåŠŸ</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker version</span>
Client: Docker Engine - Community
 Version:           <span class="token number">20.10</span>.22
 API version:       <span class="token number">1.41</span>
 Go version:        go1.18.9
 Git commit:        3a2c30b
 Built:             Thu Dec <span class="token number">15</span> <span class="token number">22</span>:30:24 <span class="token number">2022</span>
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      <span class="token boolean">true</span>

Server: Docker Engine - Community
 Engine:
  Version:          <span class="token number">20.10</span>.22
  API version:      <span class="token number">1.41</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>
  Go version:       go1.18.9
  Git commit:       42c8b31
  Built:            Thu Dec <span class="token number">15</span> <span class="token number">22</span>:28:33 <span class="token number">2022</span>
  OS/Arch:          linux/amd64
  Experimental:     <span class="token boolean">false</span>
 containerd:
  Version:          <span class="token number">1.6</span>.15
  GitCommit:        5b842e528e99d4d4c1686467debf2bd4b88ecd86
 runc:
  Version:          <span class="token number">1.1</span>.4
  GitCommit:        v1.1.4-0-g5fd4c4d
 docker-init:
  Version:          <span class="token number">0.19</span>.0
  GitCommit:        de40ad0

<span class="token comment"># 7. hello world</span>
<span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker run hello-world</span>
Unable to <span class="token function">find</span> image <span class="token string">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete 
Digest: sha256:aa0cc8055b82dc2509bed2e19b275c8f463506616377219d9642221ab53cf9fe
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run <span class="token parameter variable">-it</span> ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
 
 <span class="token comment"># 8. æŸ¥çœ‹ä¸€ä¸‹ä¸‹è½½çš„è¿™ä¸ª hello-worldé•œåƒ</span>
 <span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">16</span> months ago   <span class="token number">13</span>.3kB
 
</code></pre></div><p><strong>äº†è§£ï¼šå¸è½½docker</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 1. å¸è½½ä¾èµ–</span>
yum remove docker-ce docker-ce-cli containerd.io

<span class="token comment"># 2. åˆ é™¤èµ„æº</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker

<span class="token comment"># /var/lib/docker dockerçš„é»˜è®¤å·¥ä½œè·¯å¾„ï¼</span>
</code></pre></div><h3 id="é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ"><a href="#é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" class="header-anchor">#</a> é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ</h3> <ol><li><p>ç™»å½•é˜¿é‡Œäº‘</p></li> <li><p>æ‰¾åˆ°é•œåƒåŠ é€Ÿåœ°å€</p> <p>![image-20230117150149564](/Users/mym/Library/Application Support/typora-user-images/image-20230117150149564.png)</p></li> <li><p>é…ç½®ä½¿ç”¨</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://9lxn3itv.mirror.aliyuncs.com&quot;]
}
EOF</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre></div></li></ol> <h3 id="å›é¡¾helloworldè¿‡ç¨‹"><a href="#å›é¡¾helloworldè¿‡ç¨‹" class="header-anchor">#</a> å›é¡¾helloworldè¿‡ç¨‹</h3> <p>![image-20230117150603100](/Users/mym/Library/Application Support/typora-user-images/image-20230117150603100.png)</p> <p>![image-20230117150758667](/Users/mym/Library/Application Support/typora-user-images/image-20230117150758667.png)</p> <h3 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="header-anchor">#</a> åº•å±‚åŸç†</h3> <p><strong>Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</strong></p> <p>Dockeræ˜¯ä¸€ä¸ª  Client - Server ç»“æ„çš„ç³»ç»Ÿï¼ŒDockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šã€‚é€šè¿‡Socketä»å®¢æˆ·ç«¯è®¿é—®ï¼</p> <p>DockerServeræ¥æ”¶åˆ° Docker-Clientçš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚</p> <p>![image-20230117151816826](/Users/mym/Library/Application Support/typora-user-images/image-20230117151816826.png)</p> <p><strong>Dockerä¸ºä»€ä¹ˆæ¯”VMå¿«ï¼Ÿ</strong></p> <ol><li>Dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚</li> <li>Dockeråˆ©ç”¨çš„å®¿ä¸»æœºçš„å†…æ ¸ï¼ŒVMéœ€è¦æ˜¯ Guest OS</li></ol> <p><img src="https://img-blog.csdnimg.cn/20210202112125801.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phdGVq,size_16,color_FFFFFF,t_70" alt="img"></p> <p><img src="https://img-blog.csdnimg.cn/img_convert/91868a37481f41dbc2b53a2303ce8fff.png" alt="img"></p> <p>æ‰€ä»¥è¯´ï¼Œæ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œdockerä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œé¿å…å¼•å¯¼æ€§æ“ä½œï¼Œè™šæ‹Ÿæœºæ˜¯åŠ è½½Guest OSï¼Œåˆ†é’Ÿçº§åˆ«çš„ï¼Œè€Œdockeræ˜¯åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œçœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œç§’çº§</p> <p><img src="https://www.jb51.cc/res/2021/06-16/14/86eea9fd88f9b85220340f56cabcf6ac.png" alt="img"></p> <p>ä¹‹åå­¦ä¹ å®Œæ¯•æ‰€æœ‰çš„å‘½ä»¤ï¼Œ å†å›å¤´æ¥çœ‹è¿™æ®µç†è®ºï¼Œå°±ä¼šå¾ˆæ¸…æ™°ï¼</p> <h2 id="dockerçš„å¸¸ç”¨å‘½ä»¤"><a href="#dockerçš„å¸¸ç”¨å‘½ä»¤" class="header-anchor">#</a> Dockerçš„å¸¸ç”¨å‘½ä»¤</h2> <h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="header-anchor">#</a> å¸®åŠ©å‘½ä»¤</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> version 		<span class="token comment"># æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯</span>
<span class="token function">docker</span> info    		<span class="token comment"># æ˜¾ç¤ºæ›´è¯¦ç»†ä¿¡æ¯</span>
<span class="token function">docker</span> å‘½ä»¤ <span class="token parameter variable">--help</span> <span class="token comment"># ä¸‡èƒ½å‘½ä»¤</span>
</code></pre></div><p>å¸®åŠ©æ–‡æ¡£çš„åœ°å€ï¼šhttps://docs.docker.com/engine/reference/commandline/docker/</p> <h3 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="header-anchor">#</a> é•œåƒå‘½ä»¤</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZwz954642t91dbe6lc2l1Z ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">16</span> months ago   <span class="token number">13</span>.3kB


<span class="token comment"># è§£é‡Š</span>
REPOSITORY é•œåƒçš„ä»“åº“æº
TAG        é•œåƒçš„æ ‡ç­¾
IMAGE ID   é•œåƒçš„ID
CREATED    é•œåƒçš„åˆ›å»ºæ—¶é—´
SIZE       é•œåƒçš„å¤§å°


</code></pre></div><h3 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="header-anchor">#</a> å®¹å™¨å‘½ä»¤</h3> <h3 id="æ“ä½œå‘½ä»¤"><a href="#æ“ä½œå‘½ä»¤" class="header-anchor">#</a> æ“ä½œå‘½ä»¤</h3> <h2 id="dockeré•œåƒ"><a href="#dockeré•œåƒ" class="header-anchor">#</a> Dockeré•œåƒ</h2> <h2 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="header-anchor">#</a> å®¹å™¨æ•°æ®å·</h2> <h2 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h2> <h2 id="dockerç½‘ç»œåŸç†"><a href="#dockerç½‘ç»œåŸç†" class="header-anchor">#</a> Dockerç½‘ç»œåŸç†</h2> <h2 id="ideaæ•´åˆdocker"><a href="#ideaæ•´åˆdocker" class="header-anchor">#</a> IDEAæ•´åˆDocker</h2> <h2 id="docker-compose"><a href="#docker-compose" class="header-anchor">#</a> Docker Compose</h2> <h2 id="docker-swarm"><a href="#docker-swarm" class="header-anchor">#</a> Docker Swarm</h2> <h2 id="ci-cd-jenkins"><a href="#ci-cd-jenkins" class="header-anchor">#</a> CI\CD Jenkins</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´:</span> <span class="time">1/17/2023, 12:21:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/code/mac.html" class="prev">
        Macå¸¸è§é—®é¢˜å¤„ç†
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ab260301.js" defer></script><script src="/assets/js/2.6430ac10.js" defer></script><script src="/assets/js/11.1c9d0aac.js" defer></script>
  </body>
</html>
